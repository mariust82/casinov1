document.domain=window.location.hostname.replace("www.","").replace("dev.","");var ClientGameplayCONFIG=function(){var t="#gameplay_iframe",n="#game_play_button",l="#play-replay",o="#play-fullscreen",a={desktop:{top:0,right:0,bottom:0,left:0},mobile:{top:0,right:0,bottom:0,left:0}};this.fullscreenHandler=function(){},this.playGameHandler=function(){},this.reloadHandler=function(){},this.setIframeSelector=function(e){t=e},this.setPlayButtonSelector=function(e){n=e},this.setReloadButtonSelector=function(e){l=e},this.setFullscreenButtonSelector=function(e){o=e},this.setFullscreenHandler=function(e){this.fullscreenHandler=e},this.setplayGameHandler=function(e){this.playGameHandler=e},this.setreloadGameHandler=function(e){this.reloadGameHandler=e},this.setDesktopFullscreenMargin=function(e,t,n,l){e=e||0,t=t||0,n=n||0,l=l||0,a.desktop={top:e||0,right:t||0,bottom:n||0,left:l||0}},this.setMobileFullscreenMargin=function(e,t,n,l){e=e||0,t=t||0,n=n||0,l=l||0,a.mobile={top:e||0,right:t||0,bottom:n||0,left:l||0}},this.getIframeSelector=function(){return t},this.getPlayButtonSelector=function(){return n},this.getReloadButtonSelector=function(){return l},this.getFullscreenButtonSelector=function(){return o},this.getDesktopFullscreenMargin=function(){return a.desktop},this.getMobileFullscreenMargin=function(){return a.mobile}},ClientGameplay=function(e){var t=document.querySelector(e.getIframeSelector()).contentWindow,n=$(e.getIframeSelector()),l=$(e.getPlayButtonSelector()),o=$(e.getReloadButtonSelector()),a=$(e.getFullscreenButtonSelector()),r=!0;this.init=function(){t.Gameplay.setClientConfig(e),r&&i(),n.hasClass("fullscreen")&&t.Gameplay.toggleFullScreen(!0),c(),r=!1};var i=function(){var e=$(t.document.getElementById("screenshot"));e.width()/e.height()},c=function(){l.off("click"),l.on("click",t.Gameplay.engageGameplay),r&&o.on("click",s),r&&a.on("click",function(){t.Gameplay.toggleFullScreen()}),$(t).on("resize",t.Gameplay.resizeElements)},s=function(){t.Gameplay.is_fullscreen,t.Gameplay.game_ratio;"screenshot"===t.document.getElementsByTagName("body")[0].dataset.type||t.document.getElementsByTagName("body")[0].dataset.restricted||n.one("load",function(){l.show()}),n.attr("src",n.attr("src"))}};