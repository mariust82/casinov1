function handleContactUs(){var a,t,n,o=$(".contact-name"),s=$(".contact-email"),c=$(".contact-message"),r=$(".contact-btn"),l=$("#contact-us-success"),d=$("#contact-us-note"),i=$("#server-error-note"),e="not-valid",u=new XMLHttpRequest;_prepContact=function(){return a=o.val(),t=s.val(),n=c.val(),ok=!0,""===a?(o.parent().addClass(e),ok=!1):o.parent().removeClass(e),""!==t&&/^([a-z0-9_\.-])+@[a-z0-9-]+\.([a-z]{2,4}\.)?[a-z]{2,4}$/i.test(t)?s.parent().removeClass(e):(s.parent().addClass(e),ok=!1),""===n?(c.parent().addClass(e),ok=!1):c.parent().removeClass(e),ok?d.hide():d.show(),ok},_sendMessage=function(e,a,t){u.abort(),u=$.ajax({url:"/contact/send",data:{name:e,email:a,message:t},dataType:"json",timeout:2e4,type:"POST",success:function(e){"ok"==e.status?(l.show(),d.hide(),i.hide(),r.prop("disabled",!0),o.val(""),s.val(""),c.val(""),_onEvents()):"error"==e.status&&i.show()},error:function(){console.error("Could not send message!")}})},_onEvents=function(){r.on({click:function(e){!1===_prepContact()?e.stopPropagation():_sendMessage(a,t,n)}})},_onEvents()}new handleContactUs;