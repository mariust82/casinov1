var AJAX_CUR_PAGE=1,GAME_CURR_PAGE=1;function tmsIframe(){$(".tms_iframe").length&&$(".tms_iframe").each(function(){var e=document.createElement("iframe");$.each(this.attributes,function(){"class"!=this.name&&e.setAttribute(this.name.replace("data-",""),this.value)}),$(this).append(e)})}!function(q){BUSY_REQUEST=!1;var w=q(window).width();q(document).ready(function(){var t,a,n,o;!function(){var e=document.querySelector(".header-menu__list-holder");if(e){var t=v(),a=t?"click":"hover";e.addEventListener(a,function(e){for(var t,a=e.target;a!=this;){if(a.classList.contains("expand-holder")){if((t=document.querySelector(".expand-holder.opened"))==a){t.querySelector(".expand-menu");"expand-menu"!==e.target.className&&t.classList.remove("opened")}else t?("expand-menu"!==e.target.className&&t.classList.remove("opened"),setTimeout(function(){a.classList.add("opened")},400)):a.classList.add("opened");break}a=a.parentNode}},!0)}}(),B(),t=q("#js-mobile-menu-opener, #js-mobile-menu-close"),a=q(".header-menu"),n=null,o=q("html, body"),t.on("click",function(e){q("body").toggleClass("menu-opened"),t.toggleClass("active"),v()&&(n=q(window).scrollTop(),o.hasClass("no-scroll")?o.addClass("no-scroll"):(o.removeClass("no-scroll"),k(n)),q(".expand-menu__list-item.active ").closest(".expand-holder").addClass("opened")),q(document).on("click touchstart",function(e){0==q(e.target).closest(a).length&&0==q(e.target).closest(t).length&&(q("body").removeClass("menu-opened"),v()&&(U(),k(n)),t.removeClass("active"))}),e.preventDefault()}),v()||q(".header-menu__list-holder .expand-holder").on("mouseout",function(e){q(".expand-holder").removeClass("opened")}),document.ontouchmove=function(e){e.preventDefault()},q(document).on("focus","input, textarea",function(){q("body").addClass("kbopened")}),q(document).on("blur","input, textarea",function(){q("body").removeClass("kbopened")}),q(".js-more-games").click(function(){q(this).addClass("loading");var e=q(this).data("software"),t=q(this);console.dir("/games-by-software/"+GAME_CURR_PAGE),_request=q.ajax({url:"/games-by-software/"+GAME_CURR_PAGE,data:{page:GAME_CURR_PAGE,software:e},dataType:"html",type:"post",success:function(e){setTimeout(function(){t.removeClass("loading"),refresh()},1e3),GAME_CURR_PAGE++,q(".games-list").append(e),q(t).data("total")===q(".games-list").children().length&&q(t).hide()},error:function(e){jQuery.parseJSON(e.responseJSON.body.message)[0];"abort"!=e.statusText&&console.log("err")},complete:function(){BUSY_REQUEST=!1}})}),q(".load-more").click(function(){new XMLHttpRequest;var e=q(this).data("category"),t=q(this);q.ajax({url:"/load-more/"+e+"/"+AJAX_CUR_PAGE,data:{page:AJAX_CUR_PAGE,category:e},dataType:"html",type:"post",success:function(e){AJAX_CUR_PAGE++,console.dir(e),console.dir(e),q(".cards-list-wrapper").append(e),q(t).data("total")===q(".cards-list-wrapper").children().length&&q(t).hide()},error:function(e){jQuery.parseJSON(e.responseJSON.body.message)[0];"abort"!=e.statusText&&(console.log("err"),__this.closest(_obj).next(".action-field.not-valid").show())},complete:function(){BUSY_REQUEST=!1}})}),/iPhone|iPad|iPod/i.test(navigator.userAgent)&&q("body").addClass("ios-device");var e;q(window).scrollTop()+q(window).height()>q(document).height()-260?tmsIframe():(e=q(window).width()<768?"touchstart":"mousemove",q(window).one(e,tmsIframe));q(window).trigger("scroll"),new s(q(".header"));var i=q(".rating-container").data("user-rate");q(".box img.not-accepted").length?q(".br-widget a").unbind("mouseenter mouseleave mouseover click"):0<i&&(q(".br-widget").children().each(function(){q(this).unbind("mouseenter mouseleave mouseover click"),parseInt(q(this).data("rating-value"))<=parseInt(i)&&q(this).addClass("br-active")}),q(".br-widget").unbind("mouseenter mouseleave mouseover click"))}),q.fn.scrollEnd=function(t,a){q(this).scroll(function(){var e=q(this);e.data("scrollTimeout")&&clearTimeout(e.data("scrollTimeout")),e.data("scrollTimeout",setTimeout(t,a))})};var e=0;if(q(window).on("scroll",function(){e<q(window).scrollTop()?(q("body").removeClass("site__header_sticky"),e=q(window).scrollTop()):e-q(window).scrollTop()>q(window).height()/3&&(q("body").addClass("site__header_sticky"),e=q(window).scrollTop()),0===q(window).scrollTop()&&q("body").removeClass("site__header_sticky"),q(".lazy").each(function(){q(this).attr("src",q(this).data("src")),q(this).removeAttr("data-src"),q(this).removeClass(".lazy")})}),q(window).width()<768&&(q(window).scrollEnd(function(){0!==q(window).scrollTop()&&q("body").addClass("site__header_sticky")},800),/\/reviews\//.test(window.location.href)&&0<q(".btn-group-mobile .btn-middle").length)){var t=!1,a=q(window).height()/2+q(window).scrollTop();q(window).on("scroll",function(){q(window).scrollTop()>a&&!1===t&&(q("body").append('<a rel="nofollow" target="_blank" class="btn-play-now" href="'+q(".btn-group-mobile .btn-middle").attr("href")+'">Play Now</a>'),q("body").addClass("play-now-appended"),t=!0)})}tooltipConfig={trigger:"click",maxWidth:279,animation:"grow",debug:!1},copyTooltipConfig={trigger:"click",maxWidth:260,minWidth:260,animation:"grow",contentAsHTML:!0,debug:!1,functionBefore:function(e,t){e.content('                <div class="centered">                    <i class="icon icon-icon_available"></i> Code copied to clipboard                </div>            ')}},contentTooltipConfig={trigger:"click",minWidth:460,interactive:!0,contentAsHTML:!0,debug:!1,content:q(".loader"),animation:"fade",contentCloning:!1,functionReady:function(){q("body").addClass("shadow"),b(q(".bonus-box"),15),q(".js-tooltip").tooltipster(tooltipConfig)},functionAfter:function(){q("body").removeClass("shadow")},functionBefore:function(t,e){var a=q(e.origin);if(!0!==a.data("loaded")){var n=a.data("name"),o=a.data("is-free"),i=new XMLHttpRequest;i.abort(),i=q.ajax({url:"/casino/bonus",data:{casino:n,is_free:o},dataType:"html",type:"GET",success:function(e){t.content(e),setTimeout(function(){q(".js-tooltip").tooltipster(tooltipConfig),q(".js-copy-tooltip").tooltipster(copyTooltipConfig),x(),b(q(".bonus-box"),15)},50),a.data("loaded",!0)}})}}};var B=function(){var o,i,e,t,a,n,s,r,l,c,d,u,f;if(function(){new Swiper("#main-carousel",{slidesPerView:6,spaceBetween:5,navigation:{nextEl:".carousel-next",prevEl:".carousel-prev"},breakpoints:{1024:{freeMode:!0,slidesPerView:"auto"}}});var e={slidesPerView:"auto",spaceBetween:30,freeMode:!0,allowTouchMove:!1,slidesOffsetAfter:-220,on:{slideChangeTransitionStart:function(e){q(".links-left").fadeIn("fast")},slideChangeTransitionEnd:function(e){0==this.translate&&q(".links-left").fadeOut("fast")}},breakpoints:{1024:{allowTouchMove:!0},690:{spaceBetween:15,allowTouchMove:!0}}};if(q("#links-nav").length){var t=new Swiper(".links-casinos #links-nav",e);e.slidesOffsetAfter=-330;var a=new Swiper(".links-games #links-nav",e),n=q("#links-nav .active").parent().index()-1,o=q(window).width()/2-50,i=-q("#links-nav .active").parent().position().left+o;v()?(q(".links-casinos #links-nav").length&&t.setTranslate(i),q(".links-games #links-nav").length&&a.setTranslate(i)):(q(".links-casinos #links-nav").length&&t.slideTo(n,300),q(".links-games #links-nav").length&&a.slideTo(n,300))}if(1024<q(window).width()){function s(e,t,a){var n=e.closest(".swiper-container"),o=t;o.clientX>n.offset().left+n.width()/1.3?a.slideNext(500):o.clientX<n.offset().left+n.width()/6&&a.slidePrev(500)}q(".links-casinos .links-nav a").on("mouseenter",function(e){s(q(this),e,t)}),q(".links-games .links-nav a").on("mouseenter",function(e){s(q(this),e,a)})}}(),q.fn.moreLines=function(u){"use strict";return this.each(function(){var e=q(this),t=(e.find("p"),parseFloat(e.css("line-height"))),a=e.innerHeight(),n=q.extend({linecount:1,baseclass:"b-morelines_",basejsclass:"js-morelines_",classspecific:"section",buttontxtmore:"more lines",buttontxtless:"less lines",animationspeed:1},u),o=n.baseclass+n.classspecific+"_ellipsis",i=n.baseclass+n.classspecific+"_button",s=n.baseclass+n.classspecific+"_wrapper",r=n.basejsclass+n.classspecific+"_wrapper",l=q("<div>").addClass(s+" "+r).css({"max-width":e.css("width")}),c=t*n.linecount;if(e.wrap(l),e.parent().not(r)&&c<a){e.addClass(o).css({"min-height":c,"max-height":c,overflow:"hidden"});var d=q("<div>",{class:i,click:function(){e.toggleClass(o),q(this).toggleClass(i+"_active"),"none"!==e.css("max-height")?e.css({height:c,"max-height":""}).animate({height:"100%"},n.animationspeed,function(){d.html(n.buttontxtless)}):e.animate({height:c},n.animationspeed,function(){d.html(n.buttontxtmore),e.css("max-height",c)})},html:n.buttontxtmore});e.after(d)}}),this},q(".js-condense").moreLines({linecount:3,baseclass:"js-condense",basejsclass:"js-condense",classspecific:"_readmore",buttontxtmore:"Read More",buttontxtless:"Read Less",animationspeed:250}),(o=q(".rating-container")).data("casino-rating"),i=o.attr("data-user-rate"),e={showSelectedRating:!1,onSelect:function(e,t,a){if(void 0!==a){var n=q(a.currentTarget);q(".br-widget").children().each(function(){q(this).unbind("mouseenter mouseleave mouseover click"),parseInt(q(this).data("rating-value"))<=parseInt(i)&&q(this).addClass("br-active")}),q(".br-widget").unbind("mouseenter mouseleave mouseover click"),n.closest(o).find(".rating-current-text").text(t).removeClass("terrible poor good very-good excellent").attr("class","rating-current-text "+M(t)),n.closest(o).find(".rating-current-value span").text(e),n.closest(o).find(".rating-current").attr("data-rating-current",e),new y({value:e,name:o.data("casino-name")})}}},q(".rating-bar",o).barrating("show",e),t=q(".js-filter > option"),q(".js-filter").select2MultiCheckboxes({templateSelection:function(e,t){return"Game software"}}),t.prop("selected",!1),a=q(".header-search"),n=q(".js-search-opener",a),s=q(".js-mobile-search-opener"),r=q(".js-search-close",a),l=q(".js-mobile-search-close"),c=q(".js-mobile-search-clear"),d=q(".js-search-drop"),u=q(".header-search-input input"),f=0,n.on("click",function(e){q("body").addClass("search-opened"),u.focus(),A(d),q(document).on("click touchstart",function(e){0==q(e.target).closest(d).length&&0==q(e.target).closest(u).length&&0==q(e.target).closest(s).length&&0==q(e.target).closest(n).length&&(u.val(""),P(d))})}),u.on("keydown",function(e){13!=e.keyCode&&A(d)}),r.on("click",function(e){P(d)}),s.on("click",function(e){f=q(window).scrollTop(),q("body").addClass("mobile-search-opened"),C(),u.focus()}),l.on("click",function(e){u.val("").blur(),q("body").removeClass("mobile-search-opened"),U(),k(f)}),c.on("click",function(){u.val("").focus()}),u.on("focus",function(){k(0)}),x(),_(w),T(),q("#reviews").on("click",".js-reply-btn",function(e){var t=q(this).closest(".reply.review");if(0<t.length&&0<t.find(".reply-data-holder").length){var a=q(this).parent().parent().parent().find(".review-name").text();q(this).parent().parent().find("textarea").val("@"+a+" ")}return q(this).parent().next().slideToggle(),!1}),S(),function o(){var e=q(".js-more-reviews");e.data("reviews");var i=q("#review-data-holder");var s=q(".reply-data-holder");var t=q(".rating-container").data("casino-name");var r=new XMLHttpRequest;e.on("click",function(){return console.log("Clicked"),a(q(this),q(this).data("type")),!1});q(".not-accepted").length&&e.css("pointer-events","auto");var a=function(a,n){BUSY_REQUEST||(BUSY_REQUEST=!0,r.abort(),r=q.ajax({url:"/casino/more-reviews/"+M(t)+"/"+a.data("page"),dataType:"HTML",data:{id:a.data("id"),type:n},type:"GET",success:function(e){"review"==n?(i.append(e),a.data("page")>=a.data("total")/5-1&&a.hide()):"reply"==n&&a.closest(".reply").find(s).append(e),a.data("page")>=a.data("total")/5-1&&a.hide();var t=a.data("page");a.data("page",++t),l(),o()},error:function(e){"abort"!=e.statusText&&console.log("err")},complete:function(){BUSY_REQUEST=!1}}))},l=function(){T(),S(),new E(q(".js-vote")),q(".review").each(function(){new j(q(this))})}}(),b(q(".list .bonus-box"),21),b(q(".bonus-item .bonus-box"),33),function(){if(10<=function(){var e=-1;if("Microsoft Internet Explorer"==navigator.appName){var t=navigator.userAgent,a=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");null!=a.exec(t)&&(e=parseFloat(RegExp.$1))}else if("Netscape"==navigator.appName){var t=navigator.userAgent,a=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})");null!=a.exec(t)&&(e=parseFloat(RegExp.$1))}return e}()){q("img.not-accepted").each(function(){var e=q(this);e.css({position:"absolute"}).wrap("<div class='img_wrapper' style='display: inline-block'>").clone().addClass("img_grayscale").css({position:"absolute","z-index":"5",opacity:"0"}).insertBefore(e).queue(function(){var e=q(this);e.parent().css({width:this.width,height:this.height}),e.dequeue()}),this.src=function(e){var t=document.createElement("canvas"),a=t.getContext("2d"),n=new Image;n.src=e,t.width=n.width,t.height=n.height,a.drawImage(n,0,0);for(var o=a.getImageData(0,0,t.width,t.height),i=0;i<o.height;i++)for(var s=0;s<o.width;s++){var r=4*i*o.width+4*s,l=(o.data[r]+o.data[r+1]+o.data[r+2])/3;o.data[r]=l,o.data[r+1]=l,o.data[r+2]=l}return a.putImageData(o,0,0,0,0,o.width,o.height),t.toDataURL()}(this.src)})}}(),q(".js-table-package-opener").on("click",function(e){q(this).closest("tr").toggleClass("active"),e.preventDefault()}),q(".message .close").on("click",function(e){q(this).parent().fadeOut(),e.preventDefault()}),q(".js-history-back").on("click",function(e){window.history.back(),e.preventDefault()}),0<q("#filters").length&&new g(q("#filters")),0<q("#reviews").length&&(q(".review").each(function(e){new j(q(this))}),q('[href="#reviews"]').on("click",function(){return function(e,t){if(void 0!==e)n(e,t);else{var a=q(".js-scroll");a.on("click",function(e){var t=q(q(this).attr("href"));n(t,0),e.preventDefault()})}function n(e,t){q("html, body").animate({scrollTop:e.offset().top-t},1e3)}}(q("#reviews"),100),!1})),0<q(".js-vote").length&&new E(q(".js-vote")),0<q(".js-run-counter").length){var p=q(".js-run-counter").data("name");runPlayCounter(p)}0<q(".contact-form").length&&new m(q(".contact-form")),new h(q(".subscribe")),q(".js-tooltip").tooltipster(tooltipConfig),q(".js-copy-tooltip").tooltipster(copyTooltipConfig),q(".js-tooltip-content").tooltipster(contentTooltipConfig)};function v(){var e=q(window).width();return q(window).resize(function(){e=q(window).width()}),e<1e3||!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}function b(e,o){q(e).each(function(e,t){var a=q(this).find(".list-item-trun"),n=q(this).find(".bubble");a.text().length>=o&&n.css("visibility","visible")})}function h(e){var t,a=e,n=a.find(".news-email"),o=a.find(".news-btn"),i=q("#news-success"),s=q("#news-note"),r="not-valid",l=new XMLHttpRequest;_prepMessage=function(){return t=n.val(),ok=!0,""!==t&&L(t)?n.parent().removeClass(r):(n.parent().addClass(r),ok=!1),ok?s.hide():s.show(),ok},_sendNews=function(e){l.abort(),l=q.ajax({url:"/newsletter/subscribe",data:{email:e},dataType:"json",timeout:2e4,type:"POST",success:function(e){if("ok"==e.status)i.show(),s.hide(),o.prop("disabled",!0),n.val(""),_onEvents();else if("error"==e.status){var t=JSON.parse(e.body);q(".action-added").remove(),q.each(t,function(e,t){var a='<div class="action-field action-added not-valid ">'+t+"</div>";q(".review-submit-holder .msg-holder").append(a)})}},error:function(e){console.error("Could not send message!")}})},_onEvents=function(){o.on({click:function(e){!1===_prepMessage()?e.stopPropagation():_sendNews(t)}})},_init=function(){_onEvents()},_init()}function m(e){var t,a,n,o=q(".contact-name"),i=q(".contact-email"),s=q(".contact-message"),r=q(".contact-btn"),l=q("#contact-us-success"),c=q("#contact-us-note"),d=q("#server-error-note"),u="not-valid",f=new XMLHttpRequest;_prepContact=function(){return t=o.val(),a=i.val(),n=s.val(),ok=!0,""!==t&&O(t)?o.parent().removeClass(u):(o.parent().addClass(u),ok=!1),""!==a&&L(a)?i.parent().removeClass(u):(i.parent().addClass(u),ok=!1),""!==n&&Y(n)?s.parent().removeClass(u):(s.parent().addClass(u),ok=!1),ok?c.hide():c.show(),ok},_sendMessage=function(e,t,a){f.abort(),f=q.ajax({url:"/contact/send",data:{name:e,email:t,message:a},dataType:"json",timeout:2e4,type:"POST",success:function(e){if("ok"==e.status)l.show(),c.hide(),d.hide(),r.prop("disabled",!0),o.val(""),i.val(""),s.val(""),_onEvents();else if("error"==e.status){JSON.parse(e.body);d.show()}},error:function(e){console.error("Could not send message!")}})},_onEvents=function(){r.on({click:function(e){!1===_prepContact()?e.stopPropagation():_sendMessage(t,a,n)}})},_init=function(){_onEvents()},_init()}var g=function(e){var s,t,a=e,n=this,o=a.find("input[type=checkbox]"),i=a.find("input[type=radio]"),r=a.find("select[name=soft]"),l=q(".data-container"),c=q(".data-add-container"),d=l.data("type"),u=l.data("type-value"),f=(q(".aj-content"),q(".empty-filters")),p=a.next(".data-container-holder").find(".holder"),v=q(".list-item").length,h=q("#default"),m=q(".qty-items").data("load-total");Math.floor(m/v);_currentClick=0,_request=new XMLHttpRequest,void 0===d&&(d="game_type"),_url=a.data("url"),h.prop("checked",!0);var g=function(e,t,a){var n={};return q.each(o,function(e,t){q(t).is(":checked")&&(n[q(t).attr("name")]=1),"reset"==a&&(n[q(t).attr("name")]="",q(t).prop("checked",!1))}),q.each(i,function(e,t){q(t).is(":checked")&&(n[q(t).attr("name")]=q(t).attr("value")),"reset"==a&&(n[q(t).attr("name")]=1,0==e&&q(t).prop("checked",!0))}),n[e]=t,"undefined"!=r.val()&&null!=r.val()&&(n.software=r.val().join(),"reset"==a&&(n.software="")),void 0===AJAX_CUR_PAGE&&(AJAX_CUR_PAGE=1),"add"==a&&"reset"!=a||(AJAX_CUR_PAGE=0),null!=n.label&&"Mobile"==n.label&&(n.compatibility="mobile",delete n.label),n};_ajaxRequestCasinos=function(e,o){if(console.dir("test"),"add"==o?s.addClass("loading"):q(".overlay, .loader").fadeIn("fast"),!BUSY_REQUEST){BUSY_REQUEST=!0,_request.abort();var i="/games-filter/"==_url?24:100;_request=q.ajax({url:_url+AJAX_CUR_PAGE,data:e,dataType:"html",type:"GET",success:function(e){var t=q(e).find(".loaded-item"),a=q(e).filter("[data-load-total]").data("load-total");function n(){q(".js-tooltip").tooltipster(tooltipConfig),q(".js-copy-tooltip").tooltipster(copyTooltipConfig),q(".js-tooltip-content").tooltipster(contentTooltipConfig),_(w)}"replace"==o?(l.html(e),c.html(""),q(".qty-items").attr("data-load-total",a),q(".qty-items-quantity").text(a),t.length===q(".qty-items").attr("data-load-total")?(0<t.length?(p.show(),f.hide()):(p.hide(),f.show()),s.hide()):(s.show(),p.show(),f.hide()),n(),AJAX_CUR_PAGE=1,_currentClick=0):(AJAX_CUR_PAGE++,_currentClick++,setTimeout(function(){c.append(t),s.removeClass("loading"),n(),t.length<i&&s.hide()},1e3)),_construct(),b(q(".data-add-container .bonus-box, .data-container .bonus-box"),21),"/casinos-filter/"===_url?q(".qty-items").data("load-total")<=100?q(".js-more-items").hide():q(".js-more-items").show():"/games-filter/"===_url&&(q(".qty-items").data("load-total")<=24?q(".js-more-items").hide():q(".js-more-items").show())},error:function(e){"abort"!=e.statusText&&console.log("err")},complete:function(){BUSY_REQUEST=!1,q(".overlay, .loader").fadeOut("fast")}});var t=setTimeout(function(){},300);_hideLoading=function(){clearTimeout(t)}}},_loadData=function(e){},_construct=function(){s=q(".js-more-items"),t=q(".js-reset-items"),o.off(),o.on("click",function(){_ajaxRequestCasinos(g(d,u),"replace")}),i.off(),i.on("click",function(){_ajaxRequestCasinos(g(d,u),"replace")}),q(".js-filter > option").on("click",function(){q(".js-filter > option").each(function(e,t){q(this).prop("selected")})}),r.off(),r.on("change",function(){_ajaxRequestCasinos(g(d,u),"replace")}),s.off(),s.on("click",function(){return _ajaxRequestCasinos(g(d,u,"add"),"add"),!1}),t.off(),t.on("click",function(){return _ajaxRequestCasinos(g(d,u,"reset"),"add"),!1}),a[0].obj=n},_construct()};function T(){var e=q(".expanding"),t=q(".js-expanding-textfields");q(".box img.not-accepted").length?e.unbind("mouseenter mouseleave mouseover click focus"):e.on("focus",function(){q(this).removeClass("expanding"),q(this).closest(".form").find(t).slideDown()})}var E=function(e){var i=e,t=i.find(".vote-button"),a=new XMLHttpRequest,n=function(e,t,a){return{id:t,is_like:a}};_getTarget=function(e){var t="/casino/review-like";return"article"===e&&(t="/blog/rate"),t},_updateVote=function(n,o,e){BUSY_REQUEST||(BUSY_REQUEST=!0,a.abort(),a=q.ajax({url:o,data:e,dataType:"json",type:"post",success:function(e){e.body.message;if("/casino/review-like"===o){var t=q(n).find(".bubble-vote"),a=t.text();t.text(++a),n.closest(i).next(".action-field.success").show()}else"/blog/rate"===o&&(q(n.parent().parent()).find(".votes-like .vote-block-num, .like .vote-block-num").text(e.body.likes),q(n.parent().parent()).find(".votes-dislike .vote-block-num, .dislike .vote-block-num").text(e.body.dislikes),n.closest(i).next(".action-field.success").show())},error:function(e){jQuery.parseJSON(e.responseJSON.body.message)[0];"abort"!=e.statusText&&(console.log("err"),__this.closest(i).next(".action-field.not-valid").show())},complete:function(){BUSY_REQUEST=!1}}))},t.off(),t.on("click",function(){var e=q(this).data("id"),t=q(this).data("success"),a=q(this).data("type");return _updateVote(q(this),_getTarget(a),n(a,e,t)),!1})};function j(e){var a,n,o,i,s,r,l,c,d,u,f,p,v,h,t=this.obj=e,m=q("#reviews-form").data("img-dir"),g=q("#reviews-form").data("country"),w=t.find("input[name=submit]"),b=q(".reviews-qty"),y="not-valid",_=q(".reviews-form").data("casino-id"),x=localStorage.getItem("casino_"+_+"_reviewed"),k=localStorage.getItem("casino_"+_+"_score"),C=new XMLHttpRequest;_prepReview=function(e){var t=e;return n=t.find("input[name=name]"),o=t.find("input[name=email]"),i=t.find("textarea[name=body]"),s=t.find(".field-error-required"),r=t.find(".field-error-rate"),_contact_error=t.find(".field-error"),c=n.val(),d=o.val(),u=i.val(),casino_name=q(".rating-container").data("casino-name"),v=q(".rating-current-value span").text(),a=0,ok=!0,null!=t.data("id")?(a=t.data("id"),f=!0,console.log(t),0<t.next().find(".reply-data-holder").length?(l=t.next().find(".reply-data-holder"),p=!1):(p=!0,a=t.closest(".reply").prev().data("id"),_setReviewerName(t),l=t.closest(".reply-data-holder")),h=t.find(".js-reply-btn span")):(f=!1,l=q("#review-data-holder")),""!==c&&O(c)?n.parent().removeClass(y):(n.parent().addClass(y),ok=!1),""!==d&&L(d)?o.parent().removeClass(y):(o.parent().addClass(y),ok=!1),""!==u&&Y(u)?i.parent().removeClass(y):(i.parent().addClass(y),ok=!1),ok?(_contact_error.hide(),s.hide()):s.show(),f||("0"===v?(r.show(),t.find(q(".rating-container")).addClass(y),ok=!1):(r.hide(),t.find(q(".rating-container")).removeClass(y))),ok},_setReviewerName=function(e){var t=e.find(".review-name").text();u="<strong>@"+t+"</strong> "+i.val().substr(t.length+1)},_changeName=function(){q("#reviews-form input[name=name]").on("keyup",function(){q("#reviews-form .review-name").text(q(this).val())})},_prepAjaxData=function(e){var t={casino:casino_name,name:c,email:d,body:u,parent:a,casino_id:q(".reviews-form").attr("data-casino-id")};_sendReview(t,e)},_sendReview=function(e,t){BUSY_REQUEST||(BUSY_REQUEST=!0,C.abort(),C=q.ajax({url:"/casino/review-write",data:e,dataType:"json",timeout:2e4,type:"POST",success:function(e){_loadData(e,t),n.val(""),o.val(""),i.val("").addClass("expanding"),_onEvents(),q(".form .js-expanding-textfields").slideUp()},error:function(e){_errors_found=q.parseJSON(e.responseText),console.error("Could not send message!"),console.log(_errors_found.body.message)},complete:function(){BUSY_REQUEST=!1}}))},_loadData=function(e,t){if(q.isEmptyObject(e))_showEmptyMessage();else{function a(){return f?'                        <div class="review review-child '+c.toLowerCase()+'" data-id="'+e.body.id+'" data-img-dir="'+m+'">                            <div class="review-wrap">                                <div class="review-info">                                    <div class="review-info-top">                                        <div class="review-flag">                                            <img src="'+m+'" alt="'+g+'" width="15" height="12">                                        </div>                                        <div class="review-info-body">                                            <div class="review-name">'+c+'</div>                                            <div class="review-date">'+I()+'</div>                                        </div>                                    </div>                                </div>                                <div class="review-body">                                    <div class="review-text">                                        <p>'+u+'</p>                                    </div>                                    <div class="review-underline">                                        <a href="#" class="review-replies js-reply-btn">Reply</a>                                        <div class="votes js-vote">                                            <a href="#" class="votes-like vote-button" data-id="'+e.body.id+'">                                                <i class="icon-icon_likes"></i>                                                <span class="bubble bubble-vote">0</span>                                            </a>                                        </div>                                    </div>                                    <div class="review-form">                                        <div class="form">                                            <div class="form-row">                                                <div class="textfield-holder">                                                    <textarea rows="5" class="expanding textfield" name="body" placeholder="Write your review..."></textarea>                                                </div>                                            </div>                                            <div class="hidden js-expanding-textfields">                                                <div class="form-row form-multicol">                                                    <div class="form-col">                                                        <div class="textfield-holder error">                                                            <input type="text" name="name" class="textfield" placeholder="Name">                                                        </div>                                                    </div>                                                    <div class="form-col">                                                        <div class="textfield-holder error">                                                            <input type="text" name="email" class="textfield" placeholder="Email (it won\'t be published)">                                                        </div>                                                    </div>                                                </div>                                                <div class="form-row">                                                    <div class="review-submit-holder">                                                        <input class="btn" name="submit" type="submit" value="ADD YOUR REPLY">                                                        <div>                                                            <div class="field-error-required not-valid action-field">                                                                Please fill in the required fields.                                                            </div>                                                            <div class="field-success success action-field">                                                                Thank You!                                                            </div>                                                        </div>                                                    </div>                                                </div>                                            </div>                                        </div>                                    </div>                                </div>                            </div>                        </div>                        ':'                        <div class="review review-parent '+c.toLowerCase()+'" data-id="'+e.body.id+'">                            <div class="review-wrap">                                <div class="review-info">                                    <div class="review-info-top">                                        <div class="review-flag">                                            <img src="'+m+'" alt="'+g+'" width="15" height="12">                                        </div>                                        <div class="review-info-body">                                            <div class="review-name">'+c+'</div>                                            <div class="review-date">'+I()+'</div>                                        </div>                                    </div>                                    <div class="list-rating '+M(R(v))+'">                                        <div class="list-rating-wrap">                                            <div class="list-rating-score">'+v+'</div>                                            <div class="list-rating-text">'+R(v)+'</div>                                        </div>                                    </div>                                </div>                                <div class="review-body">                                    <div class="review-text">                                        <p>'+u+'</p>                                    </div>                                    <div class="review-underline">                                        <a href="#" class="review-replies js-reply-btn">Reply</a>                                        <div class="votes js-vote">                                            <a href="#" class="votes-like vote-button"  data-id="'+e.body.id+'">                                                <i class="icon-icon_likes"></i>                                                <span class="bubble bubble-vote">0</span>                                            </a>                                        </div>                                    </div>                                    <div class="review-form">                                        <div class="form">                                            <div class="form-row">                                                <div class="textfield-holder">                                                    <textarea rows="5" class="expanding textfield" name="body" placeholder="Write your review..."></textarea>                                                </div>                                            </div>                                            <div class="hidden js-expanding-textfields">                                                <div class="form-row form-multicol">                                                    <div class="form-col">                                                        <div class="textfield-holder error">                                                            <input type="text" name="name" class="textfield" placeholder="Name">                                                        </div>                                                    </div>                                                    <div class="form-col">                                                        <div class="textfield-holder error">                                                            <input type="text" name="email" class="textfield" placeholder="Email (it won\'t be published)">                                                        </div>                                                    </div>                                                </div>                                                <div class="form-row">                                                    <div class="review-submit-holder">                                                        <input class="btn" name="submit" type="submit" value="ADD YOUR REPLY">                                                        <div>                                                            <div class="field-error-required not-valid action-field">                                                                Please fill in the required fields.                                                            </div>                                                            <div class="field-success success action-field">                                                                Thank You!                                                            </div>                                                        </div>                                                    </div>                                                </div>                                            </div>                                        </div>                                    </div>                                </div>                            </div>                        </div>                        <div class="reply review">                            <div class="reply-data-holder"></div>                        </div>                        '}p?q(a()).insertAfter(t):l.prepend(a()),_refreshData()}},_refreshData=function(){f||(b.text(parseInt(b.text())+1),localStorage.setItem("casino_"+_+"_reviewed",1),localStorage.setItem("casino_"+_+"_score",v)),f&&h.text(parseInt(h.text())+1),q(".review-form").slideUp(),T(),S(),new E(q(".js-vote")),q(".review, .reply").each(function(){new j(q(this))})},_doIfReviewedAlready=function(){var e=q("#reviews-form");q(".review-rating",e).addClass("active"),q("textarea",e).addClass("disabled"),q(".rating-bar").barrating("set",k),q(".rating-current-value span").text(k),q("textarea[name=body]",e).attr("placeholder","You have already reviewed")},_initForms=function(){w.off(),w.on({click:function(e){!1===_prepReview(t)?e.stopPropagation():_prepAjaxData(t)}})},_onEvents=function(){x?(_doIfReviewedAlready(),_initForms()):(_initForms(),_changeName())},_init=function(){_onEvents()},_init()}function R(e){return $string=8<e?"Excellent":6<e&&e<=8?"Very good":4<e&&e<=6?"Good":2<e&&e<=4?"Poor":"Terrible",$string}var y=function(e){var t=e,a=t.name,n=t.value,o=new XMLHttpRequest;(function(e,t){BUSY_REQUEST||(BUSY_REQUEST=!0,o.abort(),o=q.ajax({url:"/casino/rate",data:{name:e,value:t},dataType:"json",type:"post",success:function(e){"Casino already rated!"==e.body.success&&(q(".icon-icon_available").toggleClass("icon-icon_unavailable"),q(".icon-icon_unavailable").removeClass("icon-icon_available"),q(".thanx").html(e.body.success)),q(".rating-container").next(".action-field").show()},error:function(e){"abort"!=e.statusText&&console.log("err")},complete:function(){BUSY_REQUEST=!1}}))})(a,n)},s=function(e){var n,o,t=e,a=this,i=t.find(".js-trigger-search"),s=t.find("#search-all"),r=t.find("#search"),l=t.find("#search-form"),c=(t.find(".search-results"),l.find("input")),d=l.find(".js-mobile-search-clear"),u=r.find("#search-casinos ul"),f=r.find("#search-lists ul"),p=r.find("#search-pages ul"),v=r.find("#search-empty"),g=(r.data("img-dir"),!1),w=1,b=1,y=1,h=new XMLHttpRequest;window.contentBeforeSearch;var _=function(){q("#site-content").html("").append(contentBeforeSearch),q(".js-search-drop").show(),q("body").removeClass("advanced-search-opened"),c.blur(),setTimeout(function(){B()},1e3)},x=function(e,t,a,n){if(!BUSY_REQUEST){BUSY_REQUEST=!0,h.abort(),h=q.ajax({url:e,data:{value:t},dataType:"json",type:"GET",success:function(e){_hideLoading(),E(e,a,n)},error:function(e){"abort"!=e.statusText&&(_hideLoading(),console.log("err"),S())},complete:function(){_hideLoading(),BUSY_REQUEST=!1}});var o=setTimeout(function(){},300);_hideLoading=function(){clearTimeout(o)}}},m=function(){window.scrollTo(0,0);var m=q("#site-content");BUSY_REQUEST||(BUSY_REQUEST=!0,h.abort(),h=q.ajax({url:"/search/advanced",data:{value:c.val()},dataType:"HTML",type:"GET",success:function(e){var t,a,n,o,i,s,r,l,c,d,u,f,p,v,h;q("body").addClass("advanced-search-opened"),g||(contentBeforeSearch=q("#site-content .main, #site-content .promo").detach()),g=!0,m.html(e),A(),t=q("#js-search-more-lists"),a=q(".more-lists",t),n=a.data("total-casinos"),o=q("#js-search-more-casinos"),i=q(".more-num",o),s=i.data("total-casinos"),r=q("#js-search-more-pages"),l=q(".more-num",r),c=l.data("total-games"),d=Math.floor(n/5),u=Math.floor(s/5),f=Math.floor(c/5),v=s%5,h=c%5,(p=n%5)<5&&1==d&&a.text(p),v<5&&1==u&&i.text(v),h<5&&1==f&&l.text(h),t.on("click",function(){return x("/search/more-lists/"+b,q(".search-title span").text(),q("#all-lists-container"),"lists"),d<=b?t.fadeOut():t.fadeIn(),d-1<=b&&0<p&&a.text(p),b++,!1}),o.on("click",function(){return x("/search/more-casinos/"+w,q(".search-title span").text(),q("#all-casinos-container"),"casinos"),u<=w?o.fadeOut():o.fadeIn(),u-1<=w&&0<v&&i.text(v),w++,!1}),r.on("click",function(){return x("/search/more-games/"+y,q(".search-title span").text(),q("#all-games-container"),"games"),f<=y?r.fadeOut():r.fadeIn(),f-1<=y&&0<h&&l.text(h),y++,!1}),m.find("#js-search-back").each(function(){q(this).on({click:function(){_()}})}),q(".js-mobile-search-close").on("click",function(){_()})},error:function(e){"abort"!=e.statusText&&console.log("err")},complete:function(){BUSY_REQUEST=!1}}))},k=function(e,t){if(!BUSY_REQUEST||o!=n){BUSY_REQUEST=!0,h.abort(),h=q.ajax({url:e,data:{value:c.val(),page:t},dataType:"json",type:"GET",success:function(e){_hideLoading(),j(e)},error:function(e){"abort"!=e.statusText&&(_hideLoading(),console.log("err"),S())},complete:function(e){_hideLoading(),o++,BUSY_REQUEST=!1}});var a=setTimeout(function(){},300);_hideLoading=function(){clearTimeout(a)}}},C=function(e){return e.replace(/\s/g,"-").toLowerCase()},T=function(e){return'<li>                    <a class="search-results-label" href="/'+e.link.replace("/games/","")+'">                        '+e.name+"                    </a>                </li>"},E=function(e,t,a){var n,o=e.body.results;if("lists"===a)for(var i=0;i<o.length;i++){var s=T({link:o[i].url,name:o[i].title});t.append(s)}else for(var r in o){"games"==a?n="play/"+C(o[r]):"casinos"==a&&(n="reviews/"+C(o[r])+"-review");s=T({link:n,name:o[r]});t.append(s)}},j=function(e){var t=e.body.lists,a=e.body.casinos,n=e.body.games;if(f.empty(),u.empty(),p.empty(),q.isEmptyObject(t)&&q.isEmptyObject(a)&&q.isEmptyObject(n))S();else{U(),q.isEmptyObject(t)?f.parent().hide().next().addClass("single"):(f.parent().show().next().removeClass("single"),3<e.body.total_lists&&Math.ceil(e.body.total_lists/3)>b||(b=1)),q.isEmptyObject(a)?u.parent().hide().next().addClass("single"):(u.parent().show().next().removeClass("single"),3<e.body.total_casinos&&Math.ceil(e.body.total_casinos/3)>w||(w=1)),q.isEmptyObject(n)?p.parent().hide().prev().addClass("single"):(p.parent().show().prev().removeClass("single"),3<e.body.total_pages&&Math.ceil(e.body.total_casinos/3)>y||(y=1)),f.html("");for(var o=0;o<t.length;o++){var i=T({link:t[o].url,name:t[o].title});f.append(i)}for(var s in a){i=T({link:"reviews/"+C(a[s])+"-review",name:a[s]});u.append(i)}for(var r in n){i=T({link:"play/"+C(n[r]),name:n[r]});p.append(i)}""!=c.val()&&L()}},R=function(){w=y=1},S=function(){f.parent().hide(),u.parent().hide(),p.parent().hide(),v.show(),s.parent().fadeOut()},U=function(){f.parent().show(),u.parent().show(),p.parent().show(),v.hide()},A=function(){P(q(".js-search-drop")),!0},M=function(){A()},L=function(){t.find(".search-results-label").each(function(){q(this).html(function(e,t){return t.replace(new RegExp(c.val().toLowerCase(),"ig"),"<b>$&</b>")})})};a.close=function(){M()},i.on("click",function(){return k("/search"),R(),!1}),c.on({focus:function(){o=n=0,k("/search"),R()},keyup:function(e){27==e.keyCode?M():13==e.keyCode?""!=c.val()&&(m(),c.blur()):(t.find("#search__popup").addClass("load"),n++,k("/search")),R(),""!=c.val()?s.parent().fadeIn():s.parent().fadeOut()}}),d.on("click",function(){return c.val("").focus(),k("/search"),R(),!1}),s.on("click",function(){return""!=c.val()&&m(),!1}),t[0].obj=a};function S(){var e=q(".textfield");e.focus(function(){q(this).parent().addClass("active").removeClass("not-valid")}),e.blur(function(){""==q(this).val()&&q(this).parent().removeClass("active")})}function _(e){var s=q(".list-item"),r=q(".js-mobile-pop"),t=q(".btn-round"),a=q(".js-mobile-pop-close"),n=0;if(e<=690){function o(e){var t=e.closest(s).find(".mobile-popup-body"),a=e.closest(s).find(".mobile-popup-title"),n=(e.closest(s).find(".js-tooltip-content"),e.data("name")),o=e.data("is-free"),i=new XMLHttpRequest;i.abort(),i=q.ajax({url:"/casino/bonus",data:{casino:n,is_free:o},dataType:"html",type:"GET",success:function(e){$bonus=e,o?t.prepend($bonus):t.append($bonus),a.text(q($bonus).find(".tooltip-templates-title").text()),t.find(".js-tooltip").tooltipster(tooltipConfig),t.find(".js-copy-tooltip").tooltipster(copyTooltipConfig),b(q(".bonus-box"),21),x(),q(".overlay, .loader").fadeOut("fast")}}),e.closest(s).find(r).fadeIn("fast"),C()}t.off("click"),t.on("click",function(e){return n=q(window).scrollTop(),q(".overlay, .loader").fadeIn("fast"),o(q(this)),!1}),a.on("click",function(e){return q(this).closest(r).fadeOut("fast").find(".mobile-popup-body").html(""),U(),q(".overlay, .loader").fadeOut("fast"),k(n),!1})}}function x(){window.Clipboard=function(d,u,e){var f;function p(){return e.userAgent.match(/ipad|iphone/i)}return{copy:function(e,t){var a,n,o,i,s,r,l,c=(a=e,(n=document.createElement("DIV")).innerHTML=a,n.textContent||n.innerText||"");o=c,i=t,f=u.createElement("textArea"),p()&&f.setAttribute("readonly","readonly"),f.value=o,i.parent().append(f),p()?((s=u.createRange()).selectNodeContents(f),(r=d.getSelection()).removeAllRanges(),r.addRange(s),f.setSelectionRange(0,999999)):f.select(),l=t,u.execCommand("copy"),l.parent().find(f).remove()}}}(window,document,navigator),q(".js-copy-to-clip").on("click touch",function(e){Clipboard.copy(q(this).data("code"),q(this)),e.preventDefault()})}function k(e){q("html, body").animate({scrollTop:e},5)}function C(){q("html, body").addClass("no-scroll")}function U(){q("html, body").removeClass("no-scroll")}function A(e){setTimeout(function(){e.slideDown("fast")},300)}function P(e){e.slideUp("fast"),setTimeout(function(){q("body").removeClass("search-opened")},300)}function M(e){return e.replace(/\s/g,"-").toLowerCase()}function L(e){return/^([a-z0-9_\.-])+@[a-z0-9-]+\.([a-z]{2,4}\.)?[a-z]{2,4}$/i.test(e)}function O(e){if(""!=e)return!0}function Y(e){if(""!=e)return!0}function I(){var e=new Date;return e.getDate()+"."+(e.getMonth()+1)+"."+e.getFullYear()}}(jQuery);
"use strict";$(function(){var f=null!==document.ontouchstart?"click":"touchstart",g=function(r,l,t,s,c){function d(t,e,n){n=void 0===n?0:"-"+n+"px",r.css({"margin-right":n}).width(Math.round(t)).height(Math.round(e))}this.resizeOnWidth=function(t){d(t,t*l)},this.resizeOnWidthHeight=function(t,e){if(l<e/t){c("height");var n=t*l;if(n+2*s.outerHeight(!0)>e){var r=n+(e-n-2*s.outerHeight(!0));d(r/l,r)}else d(t,n)}else{c("width");var i=e/l,o=s.outerWidth(!0);if(t<i+2*o){var a=i+(t-i-2*o);d(a,a*l)}else d(i,e)}}};new function(n){document.domain=n.domain;var t=!1,r=!1,i=$(n.iframe),e=$(n.extraElements),o=!1,a=i.attr("height")/i.attr("width");i.removeAttr("width").removeAttr("height");var l=new g(i,a,n.mobileWidth,e,function(t){u(),"width"==t?n.tabletWidth>$(window).width()?e.addClass("left-player-controler"):e.addClass("right-player-controler"):"height"==t&&e.addClass("top-player-controler")});function s(){var t=i.contents().find("#overlay").attr("data-game-url");if(void 0!==t&&!1!==t){r=!0;var e=i.contents().find(n.events.play);$(e).on(f,function(){e.trigger("click"),d()})}}function c(){var t=i.attr("src");i.attr("src",null),r&&!o&&(o=!0,i.load(function(){s()})),i.attr("src",t)}function d(){t?(t=!1,r&&c(),$("body").removeClass("fullscreenGameplay"),u()):(t=!0,$("body").addClass("fullscreenGameplay")),h()}function u(){e.removeClass("top-player-controler").removeClass("left-player-controler").removeClass("right-player-controler")}function h(){t?l.resizeOnWidthHeight($(window).width(),$(window).height()):l.resizeOnWidth(i.parent().width())}$(window).on("orientationchange, resize",function(){h()}).resize(),$(n.events.reload).on("click",function(){c()}),$(n.events.fullscreen).on("click",function(){d()}),setTimeout(function(){s(),void 0!==n.triggerOnPlay&&$(n.events.fullscreen).on("click",function(){n.triggerOnPlay()})},500)}({domain:"casinoslists.com",iframe:"#gameplay_iframe",extraElements:".player-controls",mobileWidth:690,desktopWidth:1200,events:{reload:"#play-replay",fullscreen:"#play-fullscreen",play:"#game_play_button"},triggerOnPlay:function(){var t=window.location.href.substring(window.location.href.lastIndexOf("/")+1),e=new XMLHttpRequest;BUSY_REQUEST||(BUSY_REQUEST=!0,e.abort(),e=$.ajax({url:"/play-counter",data:{name:t},dataType:"json",type:"post",success:function(t){},error:function(t){"abort"!=t.statusText&&console.log("err")},complete:function(){BUSY_REQUEST=!1}}))}})});
