"use strict";$(window).load(function(){var g=null!==document.ontouchstart?"click":"touchstart",p=function(o,s,c,d,u){function h(t,e,n){n=void 0===n?0:"-"+n+"px",o.css({"margin-right":n}).width(Math.round(t)).height(Math.round(e))}this.resizeOnWidth=function(t){h(t,t*s)},this.resizeOnWidthHeight=function(t,e){if(s<e/t){u("height");var n=t*s;if(n+2*d.outerHeight(!0)>e){var o=n+(e-n-2*d.outerHeight(!0));h(o/s,o)}else h(t,n)}else{u("width");var i,r=e/s,a=t<c?1:2,l=d.outerWidth(!0);if(t<r+l*a)if(t<c)h(i=t-r-l*a+r,i*s,l);else h(i=t-r-2*l+r,i*s);else if(t<c)h(r,e,t-r);else h(r,e)}}};new function(e){document.domain=e.domain;var n=!1,o=!1,i=$(e.iframe),r=$(e.extraElements),a=!1,t=i.attr("height")/i.attr("width");i.removeAttr("width").removeAttr("height");var l=new p(i,t,e.desktopWidth,r,function(t){h(),"width"==t?e.desktopWidth>$(window).width()?r.addClass("left-player-controler"):r.addClass("right-player-controler"):"height"==t&&r.addClass("top-player-controler")}),s=i.contents().find(e.events.play);function c(){var t=i.contents().find("#overlay").attr("data-game-url");void 0!==t&&!1!==t&&(o=!0,$(s).on(g,function(){s.trigger("click"),!1===n&&u()}))}function d(){var t=i.attr("src");i.attr("src",null),o&&!a&&(a=!0,i.load(function(){c()})),i.attr("src",t)}function u(){n?(n=!1,o&&d(),$("body").removeClass("fullscreenGameplay"),h()):(n=!0,$("body").addClass("fullscreenGameplay")),f()}function h(){r.removeClass("top-player-controler").removeClass("left-player-controler").removeClass("right-player-controler")}function f(){n?l.resizeOnWidthHeight($(window).width(),$(window).height()):l.resizeOnWidth(i.parent().width())}$(window).on("orientationchange, resize",function(){f()}).resize(),$(e.events.reload).on("click",function(){d()}),$(e.events.fullscreen).on("click",function(){u()}),$(s).on(g,function(){void 0!==e.triggerOnPlay&&e.triggerOnPlay()}),c(),void 0!==e.triggerOnPlay&&$(e.events.fullscreen).on("click",function(){e.triggerOnPlay()})}({domain:"casinoslists.com",iframe:"#gameplay_iframe",extraElements:".player-controls",mobileWidth:690,desktopWidth:1200,events:{reload:"#play-replay",fullscreen:"#play-fullscreen",play:"#game_play_button"},triggerOnPlay:function(){var t=window.location.href.substring(window.location.href.lastIndexOf("/")+1),e=new XMLHttpRequest;BUSY_REQUEST||(BUSY_REQUEST=!0,e.abort(),e=$.ajax({url:"/play-counter",data:{name:t},dataType:"json",type:"post",success:function(t){},error:function(t){"abort"!=t.statusText&&console.log("err")},complete:function(){BUSY_REQUEST=!1}}))}})});
