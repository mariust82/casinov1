<div class="pagination">
    <:if test="${data.page} == 1">
        <a href="#" class="pagination-prev disabled">Prev</a> <!-- .disabled if is it first page -->
    <:elseif test="${data.page} == 2">
        <a href="${data.url}" class="pagination-prev">Prev</a> <!-- .disabled if is it first page -->
    <:else>
        <:set var="page" val="${data.page} - 1"/> 
        <a href="${data.url}/${page}" class="pagination-prev">Prev</a> <!-- .disabled if is it first page -->
    </:if>
    <div class="pagination-wrapper">
        <:for start="1" end="${data.visible}" var="i">
             <:if test="${data.page} - ceil(${data.visible}/2) < 0">
                <:if test="${data.page} == ${i}">
                    <span class="active">${data.page}</span>
                <:else>
                    <:if test="${i} == 1">
                    <a href="${data.url}">${i}</a>
                    <:else>
                        <a href="${data.url}/${i}">${i}</a>
                    </:if>
                </:if>
            <:elseif test="${data.page} + floor(${data.visible} / 2) > ${data.max_page}">
                <:if test="${data.max_page} > ${data.visible}">
                    <:set var="j" val="${data.max_page} - ${data.visible} + ${i}"/> 
                <:else>
                    <:set var="j" val="${i}"/> 
                </:if>
                 <:if test="${j} == ${data.page}">
                    <span class="active"><span>${data.page}</span></span>
                <:else>
                    <:if test="${j} == 1">
                    <a href="${data.url}">${j}</a>
                    <:else>
                        <a href="${data.url}/${j}">${j}</a>
                    </:if>
                </:if>
            <:else>
                <:if test="${i} == ceil(${data.visible}/2)">
                    <span class="active"><span>${data.page}</span></span>
                <:else>
                    <:set var="j" val="${data.page} - ceil(${data.visible}/2) + ${i}"/>
                    <:if test="${j} == 1">
                    <a href="${data.url}">${j}</a>
                    <:else>
                        <a href="${data.url}/${j}">${j}</a>
                    </:if>
                </:if>
            </:if>
        </:for>
    </div>
    <:if test="ceil(${data.total}/2) == ${data.page}">
    <a href="#" class=" pagination-next disabled">Next</a> <!-- .disabled if is it last page -->
    <:else>
    <:set var="page" val="${data.page} + 1"/>
    <a href="${data.url}/${page}" class="pagination-next">Next</a> <!-- .disabled if is it last page -->
    </:if>
</div>