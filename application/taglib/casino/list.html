<std:set name="bonus" value="Free"/>

<div class="list">

	<div class="list-heading list-item">
		<div class="list-item-cell list-item-casino list-heading-title">CASINO</div>
		<std:if condition="${data.filter} == 'banking_method'">
			<div class="list-item-cell list-item-banking-dep list-heading-title">DEPOSIT</div>
			<div class="list-item-cell list-item-banking-wit list-heading-title">WITHDRAW</div>
		<std:else>
			<div class="list-item-cell list-item-type list-heading-title">$[type]</div>
		</std:if>
		<div class="list-item-cell list-item-fd-bonus list-heading-title"><span>FIRST DEPOSIT</span> BONUS</div>
		<div class="list-item-cell list-item-alt-bonus list-heading-title">${bonus} BONUS</div>
		<div class="list-item-cell list-heading-title list-item-cell-buttons">&nbsp;</div>
	</div>
	<div class="list-body">
		<std:set name="i" value="0"/>
		<std:foreach var="$[data]" value="result">
			<div class="list-item loaded-item">
				<div class="list-item-cell list-item-casino">
					<std:if condition="${result.new} == true">
						<div class="new-casino">
							<div class="new-casino-text"> New </div>
						</div>
					</std:if>
					<div class="list-flex">
						<div class="list-flag">
							<std:if condition="${result.is_country_accepted} == 1">
								<img class="accepted" src="/public/build/images/flags/${data.country.code}.png" width="30" height="20" alt="${data.country.code}">
								<std:else>
									<img class="not-accepted" src="/public/build/images/flags/${data.country.code}.png" width="30" height="20" alt="${data.country.code}">
							</std:if>
						</div>
						<div class="list-rating ${normalize($[data][${i}]['score_class'])}">
							<div class="list-rating-wrap">
								<std:set name="score_class" value="$[data][${i}]['score_class']"/>
								<std:if condition="${result.rating} == 0">
									<div class="list-rating-score">-</div>
									<div class=" list-rating-score list-rating-score-mobile">|</div>
									<div class="list-rating-text">${score_class}</div>
								<std:else>
									<div class="list-rating-score">
										${ceil(${result.rating})}
									</div>
									<div class="list-rating-text">${score_class}</div>
								</std:if>
							</div>
						</div>
						<div class="list-title-holder">
							<a href="/reviews/${normalize(${result.name})}-review" class="list-title">
								${result.name}
								<std:if condition="'$[type]' == 'ESTABLISHED' && ${result.date_established} != '0000-00-00' && ${data.is_mobile}">
									<div class="list-small-text">${result.date_formatted}</div>
								</std:if>
							</a>
							<std:if condition="${result.is_tc_link}">
								<a href="/link/${normalize(${result.name})}-terms" target="_blank" rel="nofollow" class="additional-link">T&C applies</a>
							</std:if>
						</div>
					</div>
				</div>

				<std:if condition="${data.filter} != 'banking_method'">
					<div class="list-item-cell list-item-type">
						<div class="multirow">
							<div class="list-item-flex">
								<std:if condition="'$[type]' == 'ESTABLISHED'">
									<std:if condition="${result.date_established} != '0000-00-00'">
										<span class="upper">${date("F d, Y",  strtotime(${result.date_established}))}</span>
									</std:if>
									<std:else>
										<a class="soft_link list-item-trun" href="/softwares/${normalize(${result.softwares.0})}">
											${result.softwares.0}
										</a>
										<std:set name="extra" value="count(${result.softwares})-1"/>
										<std:if condition="${extra} > 0">
                                        <span class="bubble bubble-long js-tooltip software_tooltip" title="${result.all_softwares}">
                                            +${extra}
                                        </span>
										</std:if>
								</std:if>
							</div>
						</div>
					</div>
				<std:else>
					<div class="list-item-cell list-item-banking-dep">
						<i class="icon-icon_${(${result.deposit_methods}?'available':'unavailable')}"></i>
					</div>
					<div class="list-item-cell list-item-banking-wit">
						<i class="icon-icon_${(${result.withdraw_methods}?'available':'unavailable')}"></i>
					</div>
				</std:if>

				<std:if condition="${data.is_mobile}">
					<div class="list-item-cell list-item-fd-bonus js-mobile-pop-open">
						<std:if condition="${result.bonus_free.amount}">
							<div class="btn-round-holder">
								<span class="btn-round" data-name="${result.name}" data-is-free="1">
									${result.bonus_free.amount} ${result.bonus_free.bonus_type_Abbreviation}
								</span>
							</div>
						</std:if>
						<std:if condition="${result.bonus_first_deposit.amount}">
							<div class="btn-round-holder">
								<span class="btn-round" data-name="${result.name}" data-is-free="0">${result.bonus_first_deposit.amount}</span>
							</div>
						</std:if>
					</div>
					<div class="list-item-cell list-item-alt-bonus">
						<std:if condition="${result.bonus_free.amount}">
							<span class="btn-round" data-name="${result.name}" data-is-free="0">${result.bonus_first_deposit.amount}</span>
						</std:if>
					</div>
				<std:else>
					<div class="list-item-cell list-item-fd-bonus js-mobile-pop-open">
						<span class="btn-round js-tooltip-content"  data-name="${result.name}" data-is-free="0">${result.bonus_first_deposit.amount}</span>
					</div>
					<div class="list-item-cell list-item-alt-bonus">
						<std:if condition="${result.bonus_free}">

							<span class="btn-round js-tooltip-content" data-name="${result.name}" data-is-free="1">
								${result.bonus_free.amount} ${result.bonus_free.bonus_type_Abbreviation}
							</span>
						</std:if>
					</div>
				</std:if>
				<div class="list-item-cell list-item-cell-buttons">
					<div class="list-flex">
						<std:if condition="${result.status}==1">
							<a href="/visit/${normalize(${result.name})}" target="_blank" rel="nofollow" class="btn-blk btn-err">
								<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><defs><style>.a{fill:#fff;}</style></defs><path class="a" d="M10,2a8,8,0,1,0,8,8,8,8,0,0,0-8-8m4,8.8H6V9.2h8Z" transform="translate(-2 -2)"/></svg>
							</a>
						<std:elseif condition="${result.status}==2">
							<a href="/visit/${normalize(${result.name})}" target="_blank" rel="nofollow" class="btn-wrn btn-err">
								<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><defs><style>.a{fill:#fff;}</style></defs><path class="a" d="M10.8,10.8H9.2V6h1.6m0,8H9.2V12.4h1.6M10,2a8,8,0,1,0,8,8,8,8,0,0,0-8-8Z" transform="translate(-2 -2)"/></svg>
							</a>
						<std:else>
							<a href="/visit/${normalize(${result.name})}" target="_blank" rel="nofollow">
								<span class="btn btn-small">Visit</span>
								<span class="btn btn-circle"><i class="icon-chevron-right"></i></span>
							</a>
						</std:if>
					</div>
				</div>
				<div class="mobile-popup js-mobile-pop">
					<div class="mobile-popup-heading">
						<a href="#" class="mobile-popup-close js-mobile-pop-close">
							<i class="icon-arrow-left2"></i>
						</a>
						<a href="/visit/${normalize(${result.name})}" target="_blank" rel="nofollow" class="button">VISIT CASINO</a>
					</div>
					<div class="mobile-popup-title"></div>
					<div class="mobile-popup-body"></div>
				</div>
			</div>
			<std:set name="i" value="${i}+1"/>
		</std:foreach>

		<std:unset name="i"/>
		<std:unset name="result"/>
	</div>
</div>